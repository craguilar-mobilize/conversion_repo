-- <sc-table> DemoUser TSQL </sc-table> 
CREATE OR REPLACE SEQUENCE PUBLIC.DemoUsers_ID
   START WITH 1
   INCREMENT BY 1
COMMENT = 'FOR TABLE-COLUMN PUBLIC.DemoUsers.ID';
-- <sc-table> DemoUser TSQL </sc-table> 
CREATE OR REPLACE TABLE PUBLIC.DemoUsers (
   ID NUMERIC(38, 18) NOT NULL DEFAULT PUBLIC.DemoUsers_ID.NEXTVAL /*** MSC-WARNING - MSCEWI1048 - SEQUENCE -  GENERATED BY DEFAULT  START 1 INCREMENT 1 ***/ ,
   Name VARCHAR NOT NUll,
   Birthday DATE NOT NUll,
   CityCode NUMERIC(38, 18) NOT NUll,
   Email VARCHAR NOT NUll,
   CONSTRAINT PK_DemoUsers PRIMARY KEY (ID)
);

-- <sc-insert> </sc-insert> 
INSERT INTO PUBLIC.DemoUsers (Name, Birthday, CityCode, Email) VALUES('Emma Ezquivel', '2021-11-11', 123, 'emma@mobilize.se');
-- <sc-insert> </sc-insert> 
INSERT INTO PUBLIC.DemoUsers (Name, Birthday, CityCode, Email) VALUES('Daniel Duran', '2021-10-11', 456, 'daniel@mobilize.se');
-- <sc-insert> </sc-insert> 
INSERT INTO PUBLIC.DemoUsers (Name, Birthday, CityCode, Email) VALUES('Jennifer Jones', '2021-09-10', 789, 'jennifer@mobilize.se');
-- <sc-insert> </sc-insert> 
INSERT INTO PUBLIC.DemoUsers (Name, Birthday, CityCode, Email) VALUES('Joseph Jar', '2021-08-09', 741, 'joseph@mobilize.se');

-- <sc-view> DemoUserView </sc-view> 
CREATE OR REPLACE VIEW PUBLIC.View_DemoUsers
AS
SELECT
   Name,
   CityCode,
   Email
FROM
   PUBLIC.DemoUsers;

-- <sc-procedure> InsertDemoUsers </sc-procedure> 
CREATE OR REPLACE PROCEDURE PUBLIC.InsertDemoUsers (IN_NAME STRING, IN_BIRTHDAY DATE, IN_CITYCODE FLOAT, IN_EMAIL STRING)
RETURNS VARCHAR
LANGUAGE SQL
EXECUTE AS CALLER
AS
$$
   BEGIN
      INSERT INTO PUBLIC.DemoUsers (Name, Birthday, CityCode, Email)
      VALUES (:IN_NAME, :IN_BIRTHDAY, :IN_CITYCODE, :IN_EMAIL);
   END;
$$;

-- <sc-execute> </sc-execute> 
CALL InsertDemoUsers('TestTable', '2020-12-12', 420, 'testTable@email.com');

-- <sc-procedure> InsertDemoUsers </sc-procedure> 
CREATE OR REPLACE PROCEDURE PUBLIC.UpdateDemoUsers (IN_ID FLOAT, IN_NAME STRING, IN_BIRTHDAY DATE, IN_CITYCODE FLOAT, IN_EMAIL STRING)
RETURNS VARCHAR
LANGUAGE SQL
EXECUTE AS CALLER
AS
$$
   BEGIN
      UPDATE PUBLIC.DemoUsers
      SET
         Name = :IN_NAME,
         Birthday = :IN_BIRTHDAY,
         CityCode = :IN_CITYCODE,
         Email = :IN_EMAIL
      WHERE
         ID = :IN_ID;
   END;
$$;

-- <sc-execute> </sc-execute> 
CALL UpdateDemoUsers(5, 'TestUpdate', '2020-12-12', 840, 'testInsert@email.com');